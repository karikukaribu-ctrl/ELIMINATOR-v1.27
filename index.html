<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Eliminator</title>

  <!-- Polices ‚ÄúGhibli-ish‚Äù -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700;800;900&family=Zen+Maru+Gothic:wght@400;500;700&display=swap" rel="stylesheet">700;800;900&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css">
</head>

<body>

  <!-- TOP BAR FIXE -->
  <header id="topBar">
    <div class="tb-left">
      <button id="btnLeft" class="tb-btn" title="Menu gauche" aria-label="Menu gauche">‚â°</button>
    </div>

    <div class="tb-center">
      <div class="tb-visuals">
  <select id="quickMode">
    <option value="clair">Clair</option>
    <option value="fonce">Fonc√©</option>
  </select>

  <select id="quickSeason">
    <option value="printemps">Printemps</option>
    <option value="ete">√ât√©</option>
    <option value="automne">Automne</option>
    <option value="hiver">Hiver</option>
    <option value="noirblanc">Noir & blanc</option>
  </select>
      </div>
      <div class="tb-brand">Eliminator</div>
    </div>

    <div class="tb-right">
      <button id="btnRight" class="tb-btn" title="Panneau droit" aria-label="Panneau droit">‚ñ¶</button>
    </div>
  </header>

  <!-- BACKDROP PANELS -->
  <div id="panelBack" aria-hidden="true"></div>

  <!-- PANNEAU GAUCHE -->
  <aside id="leftPanel" class="panel panel-left" aria-label="Panneau gauche">
    <div class="panel-top"> 
      <div id="leftResizer" class="panelResizer left"></div>
      <div class="panel-title">Menu</div>
      <button class="closeBtn" id="leftClose" aria-label="Fermer le panneau gauche">√ó</button>
    </div>

    <nav class="panel-tabs" aria-label="Onglets gauche">
      <button class="tabBtn active" data-lefttab="inbox">Inbox</button>
      <button class="tabBtn" data-lefttab="tasks">T√¢ches</button>
      <button class="tabBtn" data-lefttab="kiffance">Kiffance</button>
      <button class="tabBtn" data-lefttab="prefs">Pr√©f√©rences</button>
      <button class="tabBtn" data-lefttab="export">Export</button>
    </nav>

    <div class="panel-content">

      <!-- INBOX -->
      <section class="tabPage show" id="left-inbox">
        <h3>Inbox</h3>
        <p class="muted small">
          Une ligne = une t√¢che. Ligne en MAJUSCULES = cat√©gorie.
          ‚ÄúTitre - 6‚Äù ou ‚ÄúTitre 6‚Äù = 6 √âthorions.
        </p>

        <textarea id="inboxText" class="area" rows="8" placeholder="EXEMPLE CAT√âGORIE
Ranger bureau - 3
Appeler X 1
Lire article - 2"></textarea>

        <div class="row">
          <button id="inboxAdd" class="btn primary">Ajouter</button>
          <button id="inboxClear" class="btn ghost">Effacer champ</button>
        </div>

        <div class="divider"></div>

        <div class="row">
          <div class="muted small">Actives : <b id="statActive">0</b></div>
          <div class="muted small">Finies : <b id="statDone">0</b></div>
        </div>
      </section>

      <!-- TASKS -->
      <section class="tabPage" id="left-tasks">
        <h3>T√¢ches</h3>

        <div class="row wrap">
          <label class="muted small">Cat√©gorie</label>
          <select id="catFilter" class="select"></select>

          <label class="muted small">Vue</label>
          <select id="viewFilter" class="select">
            <option value="active">Actives</option>
            <option value="done">Finies</option>
            <option value="all">Toutes</option>
          </select>
        </div>

        <div class="list" id="taskList"></div>
      </section>

      <!-- KIFFANCE -->
      <section class="tabPage" id="left-kiffance">
        <h3>Kiffance</h3>
        <p class="muted small">R√©compenses surprises (base √©ditable).</p>

        <div class="row wrap">
          <input id="kiffNew" class="input" placeholder="Ajouter une kiffance‚Ä¶" />
          <button id="kiffAdd" class="btn primary">+</button>
        </div>
        <div class="list" id="kiffList"></div>
      </section>

      <!-- PREFS -->
      <section class="tabPage" id="left-prefs">
        <h3>Pr√©f√©rences</h3>

        <div class="grid2">
          <div>
            <label class="muted small">Mode</label>
            <select id="modeSel" class="select">
              <option value="clair">Clair</option>
              <option value="fonce">Fonc√©</option>
            </select>
          </div>

          <div>
            <label class="muted small">Saison</label>
            <select id="seasonSel" class="select">
              <option value="printemps">Printemps</option>
              <option value="ete">√ât√©</option>
              <option value="automne">Automne</option>
              <option value="hiver">Hiver</option>
              <option value="noirblanc">Noir & blanc</option>
            </select>
          </div>

          <div>
            <label class="muted small">Police</label>
            <select id="fontSel" class="select">
              <option value="yomogi">Yomogi</option>
              <option value="zen">Zen Kurenaido</option>
              <option value="kiwi">Kiwi Maru</option>
            </select>
          </div>

          <div>
            <label class="muted small">Taille (UI)</label>
            <input id="uiScale" type="range" min="14" max="18" step="1" />
          </div>
        </div>

        <p class="muted small">
          Objectif : chaud en clair, doux en fonc√©, lisible sans forcer.
        </p>
      </section>

      <!-- EXPORT -->
      <section class="tabPage" id="left-export">
        <h3>Export</h3>
        <p class="muted small">Export JSON simple.</p>
        <div class="row wrap">
          <button id="exportBtn" class="btn ghost">Copier JSON</button>
          <button id="wipeBtn" class="btn danger">Reset total</button>
        </div>
        <textarea id="exportOut" class="area" rows="8" readonly></textarea>
      </section>

    </div>
  </aside>

  <!-- HUB CENTRAL -->
  <main id="hub">
    <div id="hub-inner">

      <h1 id="appTitle">ELIMINATOR</h1>
      <p id="subtitle">Une qu√™te apr√®s l‚Äôautre.</p>

      <!-- PROGRESSION -->
      <section id="progressWrap" aria-label="Progression">
        <div id="progressBar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="100">
          <div id="progressFill"></div>
          <div id="progressPctIn">100%</div>
        </div>
      </section>

      <!-- POMODORO -->
      <section id="pomodoro" aria-label="Pomodoro">
        <div class="pomoRow">
          <div id="pomoTime">25:00</div>
          <button id="pomoEdit" class="iconLink" type="button" title="Modifier le pomodoro" aria-label="Modifier le pomodoro">
            ‚úé
          </button>
        </div>
      </section> 
      
       <div class="rouletteWrap">
        <button id="rouletteBtn" class="rouletteBtn" type="button" aria-label="Roulette">
         <div class="rouletteWheel" id="rouletteWheel">
        <div class="rouletteCenterText">Roulette</div>
      </div>
    </button>
    <div class="rouletteLegend">Tirage</div>
   </div>
      <!-- T√ÇCHE EN COURS -->
      <section class="bottomCard" id="bottomCard">
       <div class="bottomHeader">
        <div class="bottomTitle">T√¢ches en cours</div>
       <div class="bottomMeta" id="taskMeta"></div>
      </div>

     <div id="tasksList"></div>

     <div class="quickLinks">
      <button class="ql" type="button" id="openNotes">Notes</button>
      <button class="ql" type="button" id="openTyphonse">Typhonse</button>
      <button class="ql" type="button" id="openKiffance">Kiffance</button>
      <button class="ql" type="button" id="openStats">Stats</button>
    </div>
   </section>
      <section id="currentTask" aria-label="T√¢che en cours">
        <div class="taskLine">
          <span class="taskLabel">T√¢che en cours</span>
          <span class="taskFraction" id="taskFraction">0/0</span>

          <button id="taskInfoBtn" class="tinyBtn" type="button" title="Afficher/masquer les d√©tails" aria-label="Afficher/masquer les d√©tails">
            i
          </button>
        </div>

        <div class="taskTitle" id="taskTitle">Aucune t√¢che s√©lectionn√©e</div>

        <div class="taskMeta muted" id="taskMeta" hidden>
          Cat√©gorie : <span id="metaCat">‚Äî</span> ¬∑ √âthorions : <span id="metaEt">‚Äî</span>
        </div>
      </section>

      <!-- ACTIONS -->
      <section id="actions" aria-label="Actions">
        <div class="actionCol">
          <button id="undoBtn" class="roundBtn ghost" type="button" title="Retour arri√®re" aria-label="Retour arri√®re">
            ‚Ü∂
          </button>
          <div class="actionLbl">Retour</div>
        </div>

        <div class="actionCol">
          <button id="roulette" class="rouletteBtn" type="button" title="Roulette" aria-label="Roulette">
            <span class="rouletteFace" aria-hidden="true"></span>
            <span class="rouletteCenter" aria-hidden="true">
              <span class="rouletteWord">roulette</span>
            </span>
            <span class="rouletteNeedle" aria-hidden="true"></span>
          </button>
          <div class="actionLbl">Roulette</div>
        </div>

        <div class="actionCol">
          <button id="bombBtn" class="roundBtn primary" type="button" title="D√©gommer 1 √âthorion" aria-label="D√©gommer 1 √âthorion">
            üí£
          </button>
          <div class="actionLbl">D√©gommer 1 √âthorion</div>
        </div>
      </section>

      <!-- FEEDBACK -->
      <div id="toast" class="toast" aria-live="polite" aria-atomic="true" hidden></div>

    </div>
  </main>

  <!-- PANNEAU DROIT -->
  <aside id="rightPanel" class="panel panel-right" aria-label="Panneau droit">
    <div class="panel-top">
      <div class="panel-title">Panneau</div> 
      <div id="rightResizer" class="panelResizer right"></div>
      <button class="closeBtn" id="rightClose" aria-label="Fermer le panneau droit">√ó</button>
    </div>

    <nav class="panel-tabs" aria-label="Onglets droit">
      <button class="tabBtn active" data-righttab="sets">Sets</button>
      <button class="tabBtn" data-righttab="habits">Habitudes</button>
      <button class="tabBtn" data-righttab="mood">Mood</button>
      <button class="tabBtn" data-righttab="calendar">Calendrier</button>
      <button class="tabBtn" data-righttab="notes">Notes</button>
      <button class="tabBtn" data-righttab="stats">Stats</button>
    </nav>

    <div class="panel-content">
      <section class="tabPage show" id="right-sets">
        <h3>Sets</h3>
        <p class="muted small">Structure pr√™te (√©dition + play au module suivant).</p>
      </section>

      <section class="tabPage" id="right-habits">
        <h3>Habitudes</h3>
        <p class="muted small">Structure pr√™te (lignes compactes au module suivant).</p>
      </section>

      <section class="tabPage" id="right-mood">
        <h3>Mood</h3>
        <p class="muted small">Module expert √©motions TCC (fen√™tres contextuelles) au module suivant.</p>
      </section>

      <section class="tabPage" id="right-calendar">
        <h3>Calendrier</h3>
        <p class="muted small">Calendrier + timeline au module suivant.</p>
      </section>

      <section class="tabPage" id="right-notes">
        <h3>Notes & Rappels</h3>
        <p class="muted small">Notes + aide-m√©moire + rappels au module suivant.</p>
      </section>

      <section class="tabPage" id="right-stats">
        <h3>Stats</h3>
        <p class="muted small">Infographies au module suivant.</p>
      </section>
    </div>
  </aside>

  <script src="state.js" defer></script>
</body>
</html>
